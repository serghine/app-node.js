<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Connexion</title>
    {{>head}}
</head>
<body>
 {{>header}}
 
<form style="margin-right: 30%;margin-left:30%;margin-top:10%">
    <h2 style="text-align: center;color:green; ">CONNEXION</h2>
  <div class="form-group">
    <label for="email">Email address</label>
    <input type="email" class="form-control" id="email" aria-describedby="emailHelp">
  </div>
  <div class="form-group">
    <label for="password">Password</label>
    <input type="password" class="form-control" id="password">
  </div>
  <div style="margin-left:35% ;margin-top:5%;">
  <button type="submit" class="btn btn-primary" id="connexion">Connexion</button>
  <button type="submit" class="btn btn-success"><a href="inscription" style="color: white;">Inscription</a></button>
  </div>  
  <p id="err" style="color: red;"></p>  
<script>
  var erreur
const email=document.getElementById("email")
const password=document.getElementById("password")
const btnConnexion=document.getElementById("connexion")

btnConnexion.addEventListener("click",(e)=>{
  //e.preventDefault()
  
  if(!email.value){
    erreur="email manquant"
  }
  if(!password.value){
    erreur="mot de passe manquant"
  }
  if(erreur){
    e.preventDefault()
    document.getElementById("err").innerHTML=erreur
    return false
  }else{
    console.log(email.value)
  console.log(password.value)
    alert("formulaire a bien etais envoyer")

   
  }
   const body={
      email:email.value,
      password:password.value
    }
fetch("/connexion",{
method:"POST",
body:JSON.stringify(body),
headers:{
  "Content-Type":"application/json"
}

})
.then(res=>res.json())
.then(data=>console.log(data))
.catch(err=>{console.log("erreur de chargement...!!!",err)})

})

</script>
 {{>body}}
</body>
</html>